(function(){window.Domplate=Backbone.View.extend({templateSettings:{interpolate:/\{\{(.+?)\}\}/g,variable:"model"},domplate:"domplate",initialize:function(){return _.bindAll(this),this.model&&(this.json(this.model.toJSON()),this.render_domplates()),this},render_domplates:function(e,t){return t&&(this.templateSettings.variable=t),this.json(e)&&_.each(this.$el.data(this.domplate).split(/\s+/),this.template),this},json:function(e){return e&&(this._json=e),this._json},template:function(e){var t,n,r;if(n=this.$el.data(""+this.domplate+"-"+e)||(n=this.$el.attr(e)))return t=this.json(),r=_.template(n,t,this.templateSettings),this.$el.attr(e,r)}})}).call(this);